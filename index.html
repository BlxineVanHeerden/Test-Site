<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Invoice Generator - Plans</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:Inter,sans-serif;background:#f5f7fb;padding:20px;color:#1f2937;}
h1{text-align:center;font-weight:700;margin-bottom:10px;}
h2,h3{color:#1f2937;}
.section{background:#fff;padding:20px;border-radius:16px;margin-bottom:24px;box-shadow:0 10px 25px rgba(0,0,0,.06);}
input,select,textarea,button{width:100%;padding:10px 12px;margin-top:8px;border-radius:8px;border:1px solid #d1d5db;font-size:14px;}
button{font-weight:600;border:none;cursor:pointer;background:#3b82f6;color:#fff;}
button:hover{background:#2563eb;}
.row{display:flex;gap:16px;flex-wrap:wrap}
.row>div{flex:1;min-width:200px}
.plan-card{border:1px solid #d1d5db;border-radius:16px;padding:20px;flex:1;text-align:center;}
.plan-card.selected{border-color:#3b82f6;}
.plan-price{font-size:22px;font-weight:700;margin:10px 0;}
.paypal-slot{max-width:220px;margin:12px auto 0;}
table{width:100%;border-collapse:collapse;margin-top:12px;}
th,td{padding:12px;border-bottom:1px solid #e5e7eb;}
iframe{width:100%;height:720px;border:none;border-radius:16px;}
</style>
</head>

<body>

<h1>Smart Invoice Generator</h1>

<h2>Select a Plan</h2>
<div class="row" id="planContainer">
  <div class="plan-card" data-plan="free">
    <h3>Free</h3>
    <div class="plan-price">$0</div>
    <div>Max 2 items<br>Invoice Preview Only</div>
  </div>

  <div class="plan-card" data-plan="basic">
    <h3>Basic</h3>
    <div class="plan-price">$5/mo</div>
    <div>Max 5 items<br>PDF Download</div>
    <div class="paypal-slot" id="paypal-basic"></div>
  </div>

  <div class="plan-card" data-plan="pro">
    <h3>Pro</h3>
    <div class="plan-price">$10/mo</div>
    <div>Unlimited items<br>Automation</div>
    <div class="paypal-slot" id="paypal-pro"></div>
  </div>
</div>

<!-- ================= INVOICE UI (UNCHANGED) ================= -->

<div class="section row">
  <div>
    <h3>Your Info</h3>
    <input id="fromName" placeholder="Business name">
    <input id="fromEmail" placeholder="Email">
    <input id="fromPhone" placeholder="Phone">
  </div>
  <div>
    <h3>Client Info</h3>
    <input id="toName" placeholder="Client name">
    <input id="toEmail" placeholder="Client email">
    <input id="toPhone" placeholder="Client phone">
  </div>
</div>

<div class="section">
  <h3>Invoice Items</h3>
  <table>
    <thead>
      <tr><th>Item</th><th>Qty</th><th>Price</th></tr>
    </thead>
    <tbody id="itemsBody"></tbody>
  </table>
  <button id="addItemBtn">Add Item</button>
</div>

<h3>Invoice Preview</h3>
<iframe id="preview"></iframe>

<!-- PAYPAL SDK (NO CARD / DEBIT) -->
<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD&disable-funding=card,credit"></script>

<script>
// -------- INVOICE LOGIC (UNCHANGED CORE) --------
let items=[];
const body=document.getElementById("itemsBody");

function addItem(){
  const item={name:"Service",qty:1,price:0};
  items.push(item);
  const tr=document.createElement("tr");
  tr.innerHTML=`
    <td><input value="Service"></td>
    <td><input type="number" value="1"></td>
    <td><input type="number" value="0"></td>
  `;
  const inputs=tr.querySelectorAll("input");
  inputs[0].oninput=e=>item.name=e.target.value;
  inputs[1].oninput=e=>item.qty=+e.target.value;
  inputs[2].oninput=e=>item.price=+e.target.value;
  body.appendChild(tr);
}
addItem();

document.getElementById("preview").srcdoc = `
  <div style="font-family:Inter;padding:20px">
    <h2>Invoice</h2>
    <p>This is your invoice preview</p>
  </div>
`;

// -------- PAYPAL BUTTONS --------
const style={
  layout:'vertical',
  color:'blue',
  shape:'pill',
  label:'paypal',
  height:32
};

paypal.Buttons({
  style,
  createOrder:(d,a)=>a.order.create({purchase_units:[{amount:{value:'5.00'}}]}),
  onApprove:(d,a)=>a.order.capture().then(r=>alert('Basic Plan paid'))
}).render('#paypal-basic');

paypal.Buttons({
  style,
  createOrder:(d,a)=>a.order.create({purchase_units:[{amount:{value:'10.00'}}]}),
  onApprove:(d,a)=>a.order.capture().then(r=>alert('Pro Plan paid'))
}).render('#paypal-pro');
</script>

</body>
</html>
