<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Invoice Generator</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<style>
body { font-family: Arial, sans-serif; background:#f4f4f4; margin:20px; }
.section { background:#fff; padding:15px; margin-bottom:20px; border-radius:6px; }
h1,h3 { margin-top:0 }
input, select { width:100%; padding:8px; margin:6px 0; box-sizing:border-box; }
button { padding:8px 14px; background:#222; color:#fff; border:none; cursor:pointer; }
button:hover { background:#555; }
table { width:100%; border-collapse:collapse; }
th,td { border:1px solid #ccc; padding:8px; }
th { background:#222; color:#fff; }
iframe { width:100%; height:600px; border:1px solid #ccc }
.small { font-size:13px; color:#555 }
.internal { background:#fafafa }
.score.good { color:green }
.score.warn { color:orange }
.score.bad { color:red }
.clientView .internal { display:none }
</style>
</head>

<body>

<h1>Smart Invoice Generator</h1>

<div class="section">
<strong>Invoice #:</strong> 001<br>
<strong>Date:</strong> <span id="invoiceDate"></span>
</div>

<div class="section">
<h3>Your Info</h3>
<input id="yourName" placeholder="Business Name">
<input id="yourEmail" placeholder="Email">
</div>

<div class="section">
<h3>Client Info</h3>
<input id="clientName" placeholder="Client Name">
<input id="clientEmail" placeholder="Client Email">
</div>

<div class="section">
<h3>Currency</h3>
<select id="currencySelect"></select>
<p class="small" id="currencyInfo"></p>
</div>

<div class="section">
<h3>Invoice Items</h3>
<table>
<thead>
<tr>
<th>Description</th>
<th>Qty</th>
<th>Price</th>
<th>Total</th>
<th></th>
</tr>
</thead>
<tbody id="itemsBody"></tbody>
</table>
<button onclick="addRow()">+ Add Item</button>
</div>

<div class="section">
<h3>Totals</h3>
<label>Tax %</label>
<input id="taxRate" type="number" value="0">

<p>Subtotal: <strong id="subtotalDisplay">0.00</strong></p>
<p>Tax: <strong id="taxDisplay">0.00</strong></p>
<p>Total: <strong id="totalDisplay">0.00</strong></p>
</div>

<div class="section internal">
<h3>Insights</h3>
<p>Invoice Health: <span id="healthScore" class="score"></span></p>
<p id="tips"></p>
</div>

<div class="section">
<button onclick="toggleClientView()">Toggle Client View</button>
<button onclick="generateInvoice()">Preview PDF</button>
</div>

<iframe id="invoicePreview"></iframe>

<script src="script.js"></script>
</body>
</html>
